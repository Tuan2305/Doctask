<form nz-form [formGroup]="taskForm" (ngSubmit)="submitForm()">
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="title">Tiêu đề</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Vui lòng nhập tiêu đề!">
      <input nz-input formControlName="title" id="title" />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="description">Mô tả</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24">
      <textarea nz-input formControlName="description" id="description" nzAutosize></textarea>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="assigneeId">Người thực hiện</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Vui lòng chọn người thực hiện!">
      <nz-select formControlName="assigneeId" id="assigneeId" nzPlaceHolder="Chọn người thực hiện">
        <nz-option *ngFor="let user of assignees" [nzLabel]="user.fullName" [nzValue]="user.userId"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="priority">Độ ưu tiên</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Vui lòng chọn độ ưu tiên!">
      <nz-select formControlName="priority" id="priority" nzPlaceHolder="Chọn độ ưu tiên">
        <nz-option nzLabel="Thấp" nzValue="low"></nz-option>
        <nz-option nzLabel="Trung bình" nzValue="medium"></nz-option>
        <nz-option nzLabel="Cao" nzValue="high"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="status">Trạng thái</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Vui lòng chọn trạng thái!">
      <nz-select formControlName="status" id="status" nzPlaceHolder="Chọn trạng thái">
        <nz-option nzLabel="Chờ duyệt" nzValue="pending"></nz-option>
        <nz-option nzLabel="Đang tiến hành" nzValue="in_progress"></nz-option>
        <nz-option nzLabel="Hoàn thành" nzValue="completed"></nz-option>
        <nz-option nzLabel="Trì hoãn" nzValue="delayed"></nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="dateRange">Thời gian</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Vui lòng chọn ngày bắt đầu và kết thúc!">
      <nz-range-picker formControlName="dateRange" id="dateRange" nzFormat="dd/MM/yyyy"></nz-range-picker>
    </nz-form-control>
  </nz-form-item>

  <!-- <nz-form-item *ngIf="task && task.taskParentId">
    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="taskParentId">Nhiệm vụ cha</nz-form-label>
    <nz-form-control [nzSm]="14" [nzXs]="24">
      <input nz-input formControlName="taskParentId" id="taskParentId" disabled />
    </nz-form-control>
  </nz-form-item> -->

  <div nz-row nzJustify="end" class="modal-footer">
    <button nz-button nzType="default" (click)="closeModal()" [disabled]="isLoading">Hủy</button>
    <button nz-button nzType="primary" (click)="submitForm()" [nzLoading]="isLoading" [disabled]="!taskForm.valid" class="ml-8">
      {{ nzData?.task ?  'Lưu' : 'Thêm' }}
    </button>
  </div>
</form>